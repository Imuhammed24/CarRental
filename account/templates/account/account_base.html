{% extends 'base.html' %}
{% load static %}

{% block html_body_content %}

<div class="mb-4 card-title pl-3">
    <h2 class="mb-1">Hello {{ request.user.username.title }}!</h2>
    <a class="mr-2" href="{% url 'account:home' %}">Home</a>
    <a class="" href="{% url 'account:logout' %}">Logout</a>
</div>

{% block payment_success %}
{% endblock %}

{% if section == 'search' %}
{% include 'searches/view.html' %}
{% elif 'search' not in section %}

{% endif %}

{% if section == 'reserve' %}
{% include 'reservation/reserve.html' %}
{% endif %}

{% if section == 'reservation_detail' %}
{% include 'reservation/detail.html' %}
{% endif %}

<div class="border p-2 mt-4 mb-4 w-50">
    <h3>Search for Vehicle</h3>
    <form action="{% url 'searches:search' %}">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="q">
        <button class="btn btn-outline-primary mt-2" type="submit">Search</button>
    </form>
</div>

<div class="border p-2 mt-4 mb-4 w-50">
    <h3>View Vehicles</h3>
    {% for vehicle in vehicles %}
    <h6>{{ vehicle.brand }} <a href="{% url 'reservation:reserve' vehicle.id %}">--> reserve</a></h6>
    {% empty %}
    <p class="text-muted">Sorry no vehicle is available for reservation.</p>
    {% endfor %}
    <hr>
    <h5>View Reservations</h5>
    <ol class="small">
        {% for record in request.user.reservations.all %}
        <li><strong class="small"><a href="{% url 'reservation:reserve_detail' record.id %}">{{ record }}</a></strong></li>
        {% endfor %}
    </ol>
</div>

{% endblock %}
